<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simple Calculator</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
    body{
        background:#eef2ff;
        height:100vh;
        display:flex;
        justify-content:center;
        align-items:center;
    }
    .calc-box{
        width:340px;
        padding:20px;
        background:#fff;
        border-radius:15px;
        box-shadow:0 8px 30px rgba(0,0,0,0.1);
    }
    .display{
        height:60px;
        font-size:28px;
        text-align:right;
        padding:10px;
        border:none;
        outline:none;
        background:#f8f9fa;
        border-radius:10px;
        margin-bottom:15px;
    }
    .btn-calc{
        height:60px;
        font-size:20px;
        border-radius:12px;
    }
</style>
</head>

<body>

<div class="calc-box">
    <input id="screen" class="display form-control" readonly>

    <div class="row g-2 mt-2">
        <div class="col-3"><button class="btn btn-secondary btn-calc w-100" onclick="clearAll()">C</button></div>
        <div class="col-3"><button class="btn btn-secondary btn-calc w-100" onclick="back()">⌫</button></div>
        <div class="col-3"><button class="btn btn-light btn-calc w-100" onclick="press('%')">%</button></div>
        <div class="col-3"><button class="btn btn-warning btn-calc w-100" onclick="press('/')">÷</button></div>

        <div class="col-3"><button class="btn btn-light btn-calc w-100" onclick="press('7')">7</button></div>
        <div class="col-3"><button class="btn btn-light btn-calc w-100" onclick="press('8')">8</button></div>
        <div class="col-3"><button class="btn btn-light btn-calc w-100" onclick="press('9')">9</button></div>
        <div class="col-3"><button class="btn btn-warning btn-calc w-100" onclick="press('*')">×</button></div>

        <div class="col-3"><button class="btn btn-light btn-calc w-100" onclick="press('4')">4</button></div>
        <div class="col-3"><button class="btn btn-light btn-calc w-100" onclick="press('5')">5</button></div>
        <div class="col-3"><button class="btn btn-light btn-calc w-100" onclick="press('6')">6</button></div>
        <div class="col-3"><button class="btn btn-warning btn-calc w-100" onclick="press('-')">−</button></div>

        <div class="col-3"><button class="btn btn-light btn-calc w-100" onclick="press('1')">1</button></div>
        <div class="col-3"><button class="btn btn-light btn-calc w-100" onclick="press('2')">2</button></div>
        <div class="col-3"><button class="btn btn-light btn-calc w-100" onclick="press('3')">3</button></div>
        <div class="col-3"><button class="btn btn-warning btn-calc w-100" onclick="press('+')">+</button></div>

        <div class="col-6"><button class="btn btn-light btn-calc w-100" onclick="press('0')">0</button></div>
        <div class="col-3"><button class="btn btn-light btn-calc w-100" onclick="press('.')">.</button></div>
        <div class="col-3"><button class="btn btn-success btn-calc w-100" onclick="calculate()">=</button></div>
    </div>
</div>


<script>

let screen = document.getElementById("screen");

function press(val){
    screen.value = screen.value + val;
}

function clearAll(){
    screen.value = "";
}

function back(){
    screen.value = screen.value.slice(0, -1);
}

function calculate(){
    let expr = screen.value;

    // convert 50% → (50/100)
    expr = expr.replace(/([0-9.]+)%/g, "($1/100)");

    // only if valid characters
    if(/^[0-9+\-*/().% ]+$/.test(expr)){
        let ans = Function("return " + expr)();
        screen.value = ans;
    } else {
        screen.value = "";
    }
}

</script>

</body>
</html>
